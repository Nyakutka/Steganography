# Steganography
В данной работе я продемонстрирую способ сокрытия gif изображения в видеофайл используя библиотеки ffmpeg и ffmpy.
ОПИСАНИЕ АЛГОРИТМА
I.	encode.py
1)	Разобьем исходные видеофайл(разрешение 2560x1440) и gif файл на фреймы используя функции библиотеки ffmpeg. Также кадрируем gif изображение, приводя его к разрешению 100x100
 ![image](https://user-images.githubusercontent.com/73750398/166268403-4a64c498-de14-4cc9-a8f5-ebcd7fdea3a7.png)
 ![image](https://user-images.githubusercontent.com/73750398/166268432-43f13806-0d66-4511-82c8-4c6035346bc6.png)

 
2)	Найдя количество полученных фреймов, определяем фреймы видео, в которые будем вставлять пиксели фреймов gif изображения.
 ![image](https://user-images.githubusercontent.com/73750398/166268414-139ba0a2-6dcd-4483-a579-2793c840e203.png)

3)	Используем генератор псевдослучайных чисел, задав семя генерации, которое будет впоследствии использоваться как ключ к декодированию. Используя генератор псевдослучайных чисел, меняем случайные пиксели фрейма видео на пиксели фрейма. Если число повторяется, переходим к следующему. Получается фрейм видео с пикселями gif фрейма.
 ![image](https://user-images.githubusercontent.com/73750398/166268458-7abe2ed9-4409-402f-af6f-729d388c5c55.png)

4)	Сохраняем изображения(фреймы) и составляем из них видеофайл с помощью библиотеки ffmpeg.
 ![image](https://user-images.githubusercontent.com/73750398/166268478-bcc13154-3492-4a64-835c-a85ebd35ef69.png)

5)	Мы получили новый видеофайл того же разрешения и той же длительности, что и исходное.
  ![image](https://user-images.githubusercontent.com/73750398/166268494-709b4c98-cb9a-4bc8-b68b-01099397158a.png)

II.	decode.py
1)	Разобьем видеофайл на фреймы.
 ![image](https://user-images.githubusercontent.com/73750398/166268514-3dc9c6ef-30e5-46d1-8fa3-e7a0aaf986a4.png)

2)	С помощью обратного алгоритма достаем из фреймов видео кадры спрятанного gif, используя тот же ключ генерации псевдослучайных чисел(Качество изображения ухудшилось, т.к при записи в видеофайл происходило сжатие).
 ![image](https://user-images.githubusercontent.com/73750398/166268537-00137bc2-7d4a-4682-9892-ec089108c2cb.png)

3)	Объединяем фреймы в видео, а затем в gif с помощью библиотек ffmpeg, ffmpy.
 ![image](https://user-images.githubusercontent.com/73750398/166268528-1b0fa5fd-2cd9-4a63-943f-9cb7270491f0.png)

Итог:
1)	Encode.py
Исходные данные: файл gif и видео mp4
 ![image](https://user-images.githubusercontent.com/73750398/166268553-c6b7a788-8c13-4056-94e9-424942a8e609.png)

Выходные данные: видео mp4 со спрятанным изображением gif
 ![image](https://user-images.githubusercontent.com/73750398/166268574-380918f3-fc55-478d-8398-76c9834f77eb.png)

2)	decode.py
Исходные данные: видео mp4 со спрятанным gif и ключ генерации псевдослучайных чисел
 ![image](https://user-images.githubusercontent.com/73750398/166268594-a869840d-e8c3-482e-be8f-730b66a8e4b3.png)

Выходные данные: расшифрованное gif изображение
 ![image](https://user-images.githubusercontent.com/73750398/166268604-2db29e8e-bd9f-4fb4-9f27-eb0a385deed0.png)

